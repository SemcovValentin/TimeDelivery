<!DOCTYPE html>
<html lang="ru">
<head><meta charset="UTF-8"><title>Admin</title></head>
<body>
<h1>Админка</h1>
<div id="content"></div>
<script>
    const token = localStorage.getItem('token');
    if (!token) {
        document.getElementById('content').textContent = 'Пожалуйста, войдите.';
    } else {
        fetch('/api/admin/data', {
            headers: {
                'Authorization': 'Bearer ' + token
            }
        })
            .then(res => {
                if (res.ok) return res.json();
                throw new Error('Нет доступа');
            })
            .then(data => {
                document.getElementById('content').textContent = JSON.stringify(data);
            })
            .catch(err => {
                document.getElementById('content').textContent = err.message;
            });
    }
</script>
</body>
</html>
